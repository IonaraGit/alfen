<%- include ('../../partials/conf_header.ejs') %> <%- include
('../../partials/header.ejs') %>

<body class="flex-container">
  <div class="container mb-3" >
  
    <form class="form-login" method="post" action="/autenticacao">
      <div style="text-align: center">
        <img src="img/logologin.png" alt="logo" style="width: 130px" />
      </div>
  
      <!-- Se houver uma mensagem, exibi-la -->
    <% if (mensagem) { %>
              
      <div class="div-margin">
       <p class="alerta-senha"><%= mensagem %></p> 
      </div>
     
      
      <style>
         .alerta-senha {
            background: #e0ffe0;
            color: #454545;
            font-weight: 400;
            text-align: center;
            border-radius: 8px;
            border: solid 1px #2fa434;
            padding: 9px;
          }

          .div-margin {
            margin-top: 15px;
            margin-bottom: -15px;
          }
      
    
      </style>
      <script>
        // Aguardar
        setTimeout(function() {
          window.location.href = '/acesso';
        }, 300000);
      </script>
    <% } %>

    <% if (mensagemcolaborador) { %>
              
      <div class="div-margin">
       <p class="alerta-erro"><%= mensagemcolaborador %></p> 
      </div>

      <style>
        .alerta-erro {
          background: #ffb2b2;
          color: #454545;
          font-weight: 400;
          text-align: center;
          border-radius: 8px;
          border: solid 1px #a42f2f;
          padding: 9px;
        }

        .div-margin {
          margin-top: 15px;
          margin-bottom: -15px;
        }
      </style>
     
      
     
      <script>
        // Aguardar 3 segundos e recarregar a p√°gina
        setTimeout(function() {
          window.location.href = '/acesso';
        }, 3000);
      </script>
    <% } %>
      <br />
      <div class="form-group row">
        <div class="col-sm-12">
          <label for="usuario">ID SISTEC</label>
          <input type="text" class="form-control" id="empresa" name="empresa" required />
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <label for="usuario">CPF</label>
          <input type="text" class="form-control" id="CPF" name="cpf" required/>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <label for="senha">Senha</label>
          <input type="password" class="form-control" id="senha" name="senha" required/>
          <span toggle="#senha" class="fa fa-fw fa-eye field-icon toggle-password"
            ><i class="bi bi-eye"></i
          ></span>
        </div>
      </div>
  
  
  
      <div class="form-group row">
        <div class="col text-center">
          <button
            type="submit"
            class="btn btn-outline-primary"
            style="width: 80%"
          >
            Entrar
          </button>
          <a class="mt-1 btn btn btn-outline-primary" style="width: 80%" href="/recuperando/passo1">Esqueci a senha</a>
        </div>
      </div>
    </form>
    
  </div>
</body>


<%- include ('../../partials/footer.ejs') %> <%- include
('../../partials/conf_footer.ejs') %>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const passwordField = document.getElementById('senha')
    const togglePassword = document.querySelector('.toggle-password')

    togglePassword.addEventListener('click', function () {
      const type =
        passwordField.getAttribute('type') === 'password' ? 'text' : 'password'
      passwordField.setAttribute('type', type)
      this.classList.toggle('fa-eye')
      this.classList.toggle('fa-eye-slash')
    })
  })
</script>
